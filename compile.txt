compile() {
    # Verifica si hay al menos un archivo
    if [ "$#" -lt 1 ]; then
        echo "Uso: compile archivo1.c [archivo2.c ...] [-o nombre_ejecutable]"
        return 1
    fi

    # Detectar si se pasa un nombre de ejecutable con la opci√≥n -o
    local output="output"  # Nombre predeterminado
    local args=()

    while (( "$#" )); do
        if [ "$1" == "-o" ]; then
            shift
            output="$1"
        else
            args+=("$1")
        fi
        shift
    done

    # Verifica si hay archivos fuente
    if [ "${#args[@]}" -lt 1 ]; then
        echo "Error: No se especificaron archivos fuente."
        return 1
    fi

    # Crear archivos objeto para cada entrada
    local object_files=()
    for file in "${args[@]}"; do
        gcc -Wall -c "$file" && object_files+=("${file%.*}.o")
    done

    # Verifica si se generaron correctamente los archivos objeto
    if [ "${#object_files[@]}" -eq "${#args[@]}" ]; then
        gcc -Wall "${object_files[@]}" -o "$output" && echo "Ejecutable creado: ./$output"
        rm "${object_files[@]}"  # Limpia los archivos objeto
    else
        echo "Error al compilar los archivos."
        return 1
    fi
}

